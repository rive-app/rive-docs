---
title: "Migration Guide"
description: "Learn how to migrate your React Native app when upgrading between major versions of the Rive React Native runtime, including breaking changes and new features."
---

## Migrating from `rive-react-native` to `@rive-app/react-native`

The new Rive React Native runtime (`@rive-app/react-native`) is a complete rewrite built with [Nitro Modules](https://nitro.margelo.com/) for improved performance and better React Native integration.

<Note>
  All your Rive graphics will still look and function the same as they did
  before.
</Note>

### What's New

**RiveFile Ownership:** You now own the `RiveFile` object via the `useRiveFile` hook, enabling file caching, multiple instances from one file, and better resource management.

```tsx
// Old: file managed internally
<Rive url="https://cdn.rive.app/animations/vehicles.riv" />

// New: you own the RiveFile
const { riveFile } = useRiveFile(require("./vehicles.riv"));
<RiveView file={riveFile} />
```

**Enhanced Data Binding:** Direct access to `ViewModel` and `ViewModelInstance` objects, enabling initialization hooks, multiple instances, and support for all property types (lists, images, artboards).

```tsx
// Old: hooks take riveRef, return tuples
const [setRiveRef, riveRef] = useRive();
const [health, setHealth] = useRiveNumber(riveRef, "health");

// New: hooks take viewModelInstance, return objects
const viewModelInstance = useViewModelInstance(riveFile);
const { value: health, setValue: setHealth } = useRiveNumber(
  "health",
  viewModelInstance
);
```

**Improved Error Handling:**

Error handling is improved. See the [error handling](/runtimes/react-native/error-handling) documentation for more information.

### Requirements

- **React Native**: 0.78+ (0.79+ recommended)
- **Expo SDK**: 53+ (for Expo users)
- **iOS**: 15.1+
- **Android**: SDK 24+
- **Xcode**: 16.4+
- **JDK**: 17+
- **Nitro Modules**: 0.25.2+

### Migration Steps

#### 1. Installation

```bash
npm uninstall rive-react-native
npm install @rive-app/react-native react-native-nitro-modules
```

<Note>
  `react-native-nitro-modules` is required as this library relies on [Nitro
  Modules](https://nitro.margelo.com/).
</Note>

#### 2. Update Imports

```tsx
// Old
import Rive from "rive-react-native";

// New
import { RiveView } from "@rive-app/react-native";
```

#### 3. Loading Rive Files

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    const { riveFile, isLoading, error } = useRiveFile(require('./animation.riv'));
    // Also supports: URL string, resource name, or ArrayBuffer

    return <RiveView file={riveFile} style={{ width: 400, height: 400 }} />;
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    <Rive source={require('./animation.riv')} />
    // Also supports: url or resourceName props
    ```

  </Tab>
</Tabs>

See [loading Rive files](/runtimes/react-native/loading-rive-files) for more information.

#### 4. Component Migration

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    <RiveView
      file={riveFile}
      artboardName="MainArtboard"
      stateMachineName="State Machine 1"
      fit={Fit.Contain}
      autoPlay={true}
      style={{ width: 400, height: 400 }}
    />
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    <Rive
      url="https://cdn.rive.app/animations/vehicles.riv"
      artboardName="MainArtboard"
      stateMachineName="State Machine 1"
      fit={Fit.Contain}
      autoplay={true}
      style={{ width: 400, height: 400 }}
    />
    ```

  </Tab>
</Tabs>

See [React Native runtime](/runtimes/react-native) and [props](/runtimes/react-native/props) documentation for more information.

#### 5. View Reference Migration

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    const { riveViewRef, setHybridRef } = useRive();

    riveViewRef?.play();
    riveViewRef?.pause();

    <RiveView hybridRef={setHybridRef} file={riveFile} />
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    const [setRiveRef, riveRef] = useRive();

    riveRef?.play();
    riveRef?.pause();

    <Rive ref={setRiveRef} url="..." />
    ```

  </Tab>
</Tabs>

See [Rive ref methods](/runtimes/react-native/rive-ref-methods) for more information.

#### 6. State Machine Inputs (Deprecated)

<Warning>
  These methods are deprecated. Migrate to [data binding](#8-data-binding)
  instead.
</Warning>

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    riveViewRef?.setNumberInputValue('level', 5);
    riveViewRef?.setBooleanInputValue('isActive', true);
    riveViewRef?.triggerInput('buttonPressed');
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    riveRef.current?.setInputState('State Machine 1', 'level', 5);
    riveRef.current?.setInputState('State Machine 1', 'isActive', true);
    riveRef.current?.fireState('State Machine 1', 'buttonPressed');
    ```

  </Tab>
</Tabs>

See [state machine inputs](/runtimes/inputs) for more information.

#### 7. Rive Events (Deprecated)

<Warning>
  These methods are deprecated. Use [data binding triggers](#8-data-binding)
  instead.
</Warning>

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    useEffect(() => {
      const handleEvent = (event: RiveEvent) => console.log(event);
      riveViewRef?.onEventListener(handleEvent);
      return () => riveViewRef?.removeEventListeners();
    }, [riveViewRef]);
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    <Rive
      onRiveEventReceived={(event) => console.log(event)}
      url="..."
    />
    ```

  </Tab>
</Tabs>

See [runtime events](/runtimes/rive-events) for more information.

#### 8. Data Binding

The new runtime significantly improves data binding by giving you direct access to `ViewModelInstance` objects. This enables:

- **Initialization hooks** - Set initial property values before rendering with `onInit` callback
- **Multiple instances** - Create and manage multiple view model instances from the same file
- **Advanced property types** - Full support for lists, images, artboards, and nested view models
- **Better React integration** - Property hooks integrate seamlessly with React state and lifecycle

Main API changes:

- Property hooks take `viewModelInstance` instead of `riveRef`
- Hooks return objects instead of tuples
- Parameters are swapped: `(path, viewModelInstance)` vs `(riveRef, path)`

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    const { riveFile } = useRiveFile(require('./animation.riv'));
    const viewModelInstance = useViewModelInstance(riveFile);

    const { value: health, setValue: setHealth } = useRiveNumber('health', viewModelInstance);
    const { value: name, setValue: setName } = useRiveString('Player/Name', viewModelInstance);
    const { trigger } = useRiveTrigger('gameOver', viewModelInstance, {
      onTrigger: () => console.log('Game Over!')
    });

    <RiveView file={riveFile} dataBind={viewModelInstance} />
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    const [setRiveRef, riveRef] = useRive();

    const [health, setHealth] = useRiveNumber(riveRef, 'health');
    const [name, setName] = useRiveString(riveRef, 'Player/Name');
    useRiveTrigger(riveRef, 'gameOver', () => console.log('Game Over!'));

    <Rive ref={setRiveRef} resourceName="animation" dataBinding={AutoBind(true)} />
    ```

  </Tab>
</Tabs>

See [data binding](/runtimes/data-binding) for more information.

#### 9. Out of Band Assets

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    const { riveFile } = useRiveFile(
      require('./animation.riv'),
      {
        referencedAssets: {
          'Inter-594377': {
            source: require('./fonts/Inter-594377.ttf'),
          },
          'my-image': {
            source: { uri: 'https://example.com/image.png' },
          },
        },
      }
    );
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    <Rive
      url="..."
      referencedAssets={{
        'Inter-594377': {
          source: require('./fonts/Inter-594377.ttf'),
        },
      }}
    />
    ```

  </Tab>
</Tabs>

See [loading assets](/runtimes/loading-assets) for more information.

#### 10. Text Run Updates (Deprecated)

<Warning>
  Direct text run methods (`.setTextRunValue()`, `.getTextRunValue()`) are
  **deprecated**. Migrate to [data binding](#8-data-binding) strings instead.
</Warning>

<Tabs>
  <Tab title="Data Binding (Recommended)">
    ```tsx
    const { value: playerName, setValue: setPlayerName } = useRiveString('playerName', viewModelInstance);
    setPlayerName('John Doe');
    ```

  </Tab>
  <Tab title="New Runtime (Deprecated)">
    ```tsx
    // The new runtime still supports text run methods like the old runtime
    riveViewRef?.setTextRunValue('playerName', 'John Doe');
    const name = riveViewRef?.getTextRunValue('playerName');
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    riveRef.current?.setTextRunValue('playerName', 'John Doe');
    ```

  </Tab>
</Tabs>

See [text runs](/runtimes/text) for more information.

#### 11. Callbacks

<Tabs>
  <Tab title="New Runtime">
    ```tsx
    <RiveView
      file={riveFile}
      onError={(error) => console.error('Rive error:', error)}
    />

    // For state changes, use data binding listeners. For example, a trigger:
    const { trigger } = useRiveTrigger('onStateChange', viewModelInstance, {
      onTrigger: () => console.log('State changed')
    });
    ```

  </Tab>
  <Tab title="Legacy Runtime">
    ```tsx
    <Rive
      onPlay={(name, isSM) => console.log('Playing:', name)}
      onPause={(name, isSM) => console.log('Paused:', name)}
      onStateChanged={(sm, state) => console.log('State changed:', state)}
      onError={(error) => console.error('Error:', error)}
    />
    ```

  </Tab>
</Tabs>

See [data binding](/runtimes/data-binding) for more information.

### Getting Help

If you encounter issues:

1. Check the [new runtime documentation](/runtimes/react-native)
2. Review the [Data Binding guide](/runtimes/data-binding)
3. See the [example app](https://github.com/rive-app/rive-nitro-react-native/tree/main/example)
4. Visit the [Rive community forums](https://community.rive.app)
5. Report issues on [GitHub](https://github.com/rive-app/rive-nitro-react-native/issues)
