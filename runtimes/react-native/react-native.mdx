---
title: "React Native"
description: "React Native runtime for Rive."
---

import NoteOnFeatureSupport from "/snippets/runtimes/rendering-feature-support.mdx";
import { Demos } from "/snippets/demos.jsx";

<NoteOnFeatureSupport />

<Note>
ðŸš€ **The new Rive React Native runtime is now available!** Built with Nitro for improved performance and better React Native integration.

**Get started:**

- [GitHub](https://github.com/rive-app/rive-nitro-react-native)
- [NPM](https://www.npmjs.com/package/@rive-app/react-native)

**Migration Timeline:**

- **Short term:** Complete the new runtime, see [Feature Support](https://github.com/rive-app/rive-nitro-react-native?tab=readme-ov-file#feature-support) and [Roadmap](https://github.com/rive-app/rive-nitro-react-native?tab=readme-ov-file#roadmap)
- **Medium term:** Address major concerns in the legacy package while supporting migration
- **Long term:** Full migration to the new package

We're actively gathering feedback to improve the new runtime. Please share your thoughts and report any issues you encounter.

</Note>

## Overview

This guide documents how to get started using the Rive React Native runtime. The source for the new runtime is available in its [GitHub repository](https://github.com/rive-app/rive-nitro-react-native).

<Tabs>
  <Tab title="New Runtime (Recommended)">
     ## Requirements

      - **React Native**: 0.78 or later (0.79+ recommended for improved Android error messages)
      - **Expo SDK**: 53 or later (for Expo users)
      - **iOS**: 15.1 or later
      - **Android**: SDK 24 (Android 7.0) or later
      - **Xcode**: 16.4 or later
      - **JDK**: 17 or later
      - **Nitro Modules**: 0.25.2 or later

    ## Quick Start

    Follow these quick start steps to get familiar with the Rive React Native runtime.

    View the complete quick start example [here](https://github.com/rive-app/rive-nitro-react-native/blob/main/example/src/pages/QuickStart.tsx).
    <Steps>
      <Step title="Install the dependency">
        ```bash
        npm install @rive-app/react-native react-native-nitro-modules
        # or for Yarn
        yarn add @rive-app/react-native react-native-nitro-modules
        ```

        <Note>
          `react-native-nitro-modules` is required as this library relies on [Nitro Modules](https://nitro.margelo.com/).
        </Note>
      </Step>
      <Step title="Setup">
      Import the necessary components and define styles for the following steps.

      ```ts Imports
      import {
        RiveView,
        useRive,
        useRiveFile,
        useRiveNumber,
        useRiveTrigger,
        useViewModelInstance,
        Fit,
      } from '@rive-app/react-native';
      ```

      ```ts Styles
      const styles = StyleSheet.create({
        container: {
          flex: 1,
          alignItems: 'center',
          justifyContent: 'center',
        },
        rive: {
          width: '100%',
          height: 400,
        },
      });
      ```
      </Step>
      <Step title="Rive File and Component">
        The `RiveView` component displays Rive graphics. It requires a single prop: `file`, a `RiveFile` object.

        Use the `useRiveFile` hook to load a **riv** file and create a `RiveFile` object. This object can be cached and reused across multiple components, see [caching a Rive file](/runtimes/caching-a-rive-file) for details.

        ```ts Loading a file
        export default function QuickStart() {
          const { riveFile } = useRiveFile(
            require('path/to/quick_start.riv')
          );

          return (
            <View style={styles.container}>
              {riveFile && <RiveView file={riveFile} style={styles.rive} />}
            </View>
          );
        }
        ```
      </Step>
      <Step title="Layout">
        Configure how the graphic fits within its container.

        For this example, we'll set `fit` to `Layout`, which automatically resizes the artboard to match the view size. This is ideal for responsive Rive graphics built with [Layouts](/editor/layouts/layouts-overview).

        ```ts Layout focus={1, 4, 5}
        <RiveView
          file={riveFile}
          style={styles.rive}
          fit={Fit.Layout}
        />
        ```

        See the [runtime layout documentation](/runtimes/layout) for more information.

      </Step>
      <Step title="View Reference">
      Use the `useRive()` hook to access the Rive view reference for programmatic control.

      ```ts useRive hook focus={5, 11}
      export default function QuickStart() {
        const { riveFile } = useRiveFile(
          require('path/to/quick_start.riv')
        );
        const { riveViewRef, setHybridRef } = useRive();

        return (
          <View style={styles.container}>
            {riveFile && (
              <RiveView
                hybridRef={setHybridRef}
                file={riveFile}
                fit={Fit.Layout}
                style={styles.rive}
              />
            )}
          </View>
        );
      }
      ```
      <Note>
      The `riveViewRef` exposes various view operations, as well as deprecated functionality such as setting state machine inputs and text value runs.
      </Note>
      </Step>

      <Step title="Data binding">
        Create the view model instance manually using the `useViewModelInstance` hook and pass it to the view.

        This approach lets you set initial property values in the `onInit` callback before the view loads, and decouples the `ViewModelInstance` from the `RiveView`.

        ```ts Manually create view model instance focus={6-8, 12, 18}
        export default function QuickStart() {
          const { riveFile } = useRiveFile(
            require('path/to/quick_start.riv')
          );
          const { riveViewRef, setHybridRef } = useRive();
          const viewModelInstance = useViewModelInstance(riveFile, {
            onInit: (vmi) => (vmi.numberProperty('health')!.value = 20),
          });

          return (
            <View style={styles.container}>
              {riveFile && viewModelInstance && (
                <RiveView
                  hybridRef={setHybridRef}
                  file={riveFile}
                  fit={Fit.Layout}
                  style={styles.rive}
                  dataBind={viewModelInstance}
                />
              )}
            </View>
          );
        }
        ```

        Use the view model property hooks to update and listen to property changes.

        ```ts Property hooks focus={10-37, 50-52}
        export default function QuickStart() {
          const { riveFile } = useRiveFile(
            require('path/to/quick_start.riv')
          );
          const { riveViewRef, setHybridRef } = useRive();
          const viewModelInstance = useViewModelInstance(riveFile, {
            onInit: (vmi) => (vmi.numberProperty('health')!.value = 20),
          });

          const { value: health, setValue: setHealth } = useRiveNumber(
            'health',
            viewModelInstance
          );

          console.log('health', health);

          const { trigger: gameOverTrigger } = useRiveTrigger(
            'gameOver',
            viewModelInstance,
            { onTrigger: () => console.log('Game Over Triggered') }
          );

          const handleTakeDamage = () => {
            setHealth((h) => (h ?? 0) - 7);
            riveViewRef!.playIfNeeded();
          };

          const handleMaxHealth = () => {
            setHealth(100);
            riveViewRef!.playIfNeeded();
          };

          const handleGameOver = () => {
            setHealth(0);
            gameOverTrigger();
            riveViewRef!.playIfNeeded();
          };

          return (
            <View style={styles.container}>
              {riveFile && viewModelInstance && (
                <RiveView
                  hybridRef={setHybridRef}
                  file={riveFile}
                  fit={Fit.Layout}
                  style={styles.rive}
                  dataBind={viewModelInstance}
                />
              )}
              <Button onPress={handleTakeDamage} title="Take Damage" />
              <Button onPress={handleMaxHealth} title="Max Health" />
              <Button onPress={handleGameOver} title="Game Over" />
            </View>
          );
        }
        ```
        <Warning>
        We call `playIfNeeded` to force the state machine to play. Under some circumstances, the state machine might be settled if there is no active timeline in the graphic.

        This is a temporary workaround. In the future, this will happen automatically.
        </Warning>


        See the [runtime data binding documentation](/runtimes/data-binding) for more information.
      </Step>
    </Steps>

    <Info>
      See our [example app](https://github.com/rive-app/rive-nitro-react-native/tree/main/example) for more usage examples.
    </Info>

    ## Key Components

    ### `RiveView`

    The main component for displaying Rive graphics.

    **Key Properties:**
    <ResponseField name="file" type="RiveFile" required>
      The **riv** file to display, loaded via `useRiveFile` or `RiveFileFactory`.
    </ResponseField>
    <ResponseField name="hybridRef" type="HybridView">
      The view reference setter, obtained from `useRive`.
    </ResponseField>
    <ResponseField name="autoPlay" type="boolean" default="true">
      Automatically start playing the state machine.
    </ResponseField>
    <ResponseField name="fit" type="Fit" default="Contain">
      How the Rive graphic should fit within its container.
    </ResponseField>
    <ResponseField name="alignment" type="Alignment" default="Center">
      How the Rive graphic should be aligned within its container.
      <Note>Ignored when using `Fit.Layout`.</Note>
    </ResponseField>
    <ResponseField name="layoutScaleFactor" type="double" default="-1">
      The scale factor to apply to the Rive graphic when using `Fit.Layout`. The default value of `-1` uses the device's DPI.
      <Note>This property has no effect for any other `Fit` type.</Note>
    </ResponseField>
    <ResponseField name="artboardName" type="String">
      The name of the artboard to display.

      _If not set, the default artboard will be used, as configured in the Editor._
    </ResponseField>
    <ResponseField name="stateMachineName" type="String">
      The name of the state machine to play.

      _If not set, the default state machine will be used, as configured in the Editor._
    </ResponseField>
    <ResponseField name="onError" type="((error: RiveError) => void)">
      Custom error handling callback.
    </ResponseField>

    ### `useRiveFile`

    Hook for loading Rive files from a URL or local source:

    ```javascript
    const { riveFile } = useRiveFile({
      url: 'https://cdn.rive.app/animations/vehicles.riv',
      // or
      // source: require('./assets/graphic.riv'),
    });
    ```

    ### `useRive`

    Hook to access the Rive view reference for programmatic control:

    ```javascript
    const { riveViewRef, setHybridRef } = useRive();

    <RiveView
      hybridRef={setHybridRef}
      file={riveFile}
    />
    ```

    ## Error Handling

    Wrap Rive operations in try/catch blocks to handle errors. For example, when loading a file:

    ```js
    try {
      const riveFile = await RiveFileFactory.fromURL(
        'https://cdn.rive.app/animations/vehicles.riv'
      );
      // Use the riveFile...
    } catch (error) {
      // Handle errors that occur during Rive file loading
      console.error('Error loading Rive file:', error);
    }
    ```

    ### View-Based Errors

    Use the `onError` callback prop to handle errors during view configuration or runtime operations:

    ```js
    <RiveView
      file={riveFile}
      onError={(error) => {
        // error.type contains the error type enum value
        // error.message contains a descriptive error message
        console.error(`Rive Error [${error.type}]: ${error.message}`);
      }}
    />
    ```

    #### Error Types

    The following error types may occur during view operations:

    | Error Type                                     | Value | Description                                           |
    | ---------------------------------------------- | ----- | ----------------------------------------------------- |
    | `RiveErrorType.Unknown`                        | 0     | An unknown error occurred                             |
    | `RiveErrorType.FileNotFound`                   | 1     | The specified Rive file could not be found            |
    | `RiveErrorType.MalformedFile`                  | 2     | The Rive file is malformed or corrupted               |
    | `RiveErrorType.IncorrectArtboardName`          | 3     | The specified artboard name does not exist            |
    | `RiveErrorType.IncorrectStateMachineName`      | 4     | The specified state machine name does not exist       |
    | `RiveErrorType.ViewModelInstanceNotFound`      | 6     | The specified view model instance was not found       |
    | `RiveErrorType.IncorrectStateMachineInputName` | 8     | The specified state machine input name does not exist |

    Use these error types to provide specific error handling:

    ```js
    import { RiveView, RiveErrorType } from '@rive-app/react-native';

    <RiveView
      file={riveFile}
      artboardName="MainArtboard"
      onError={(error) => {
        switch (error.type) {
          case RiveErrorType.IncorrectArtboardName:
            console.error('Artboard not found:', error.message);
            // Handle missing artboard (e.g., use default artboard)
            break;
          case RiveErrorType.IncorrectStateMachineName:
            console.error('State machine not found:', error.message);
            // Handle missing state machine
            break;
          case RiveErrorType.MalformedFile:
            console.error('Corrupted file:', error.message);
            // Handle corrupted file (e.g., show error UI)
            break;
          default:
            console.error('Rive error:', error.message);
        }
      }}
      style={{ width: '100%', height: 400 }}
    />;
    ```

    <Note>If no `onError` handler is provided, errors will be logged to the console by default.</Note>

    ## Resources

    - [GitHub](https://github.com/rive-app/rive-nitro-react-native)
    - [NPM](https://www.npmjs.com/package/@rive-app/react-native)
    - [Example App](https://github.com/rive-app/rive-nitro-react-native/tree/main/example)

    See subsequent runtime pages to learn how to control layout, state machines, and more.

  </Tab>
  <Tab title="Legacy Runtime">
    <Warning>
      The legacy runtime is still supported, but we recommend migrating to the new runtime for better performance and features.
    </Warning>

    This guide documents how to get started using the legacy React Native runtime library. The source is available in its [GitHub repository](https://github.com/rive-app/rive-react-native). This library contains an API for React Native apps to easily integrate Rive assets.

    The minimum iOS target is **14.0**

    <Note>
      See [our documentation](/runtimes/react-native/adding-rive-to-expo) to add
      Rive to an Expo app.
    </Note>

    ## Getting Started

    Follow the steps below for a quick start on integrating Rive into your React Native app.

    <Steps>
      <Step title="Install the dependency">
        ```bash
        npm install rive-react-native
        # or for Yarn
        yarn add rive-react-native
        ```
      </Step>
      <Step title="iOS - Pod Install">
        `cd` inside the `ios` folder and run `pod install` (if deploying to iOS)

        <Note>
        If you run into issues here, you may need to bump the `ios` deployment version target to at least `14.0`. You can find this version in the `Podfile` of the `ios/` folder.
        </Note>

      </Step>
      <Step title="Android - Set Kotlin Dependency Resolution">
        This step may be optional - however, if your Android setup in the React Native project does not have Kotlin `v1.8.0+` set up, you may run into duplicate class issues when building the project. To mitigate these issues, as suggested by [Kotlin docs](https://kotlinlang.org/docs/gradle-configure-project.html#versions-alignment-of-transitive-dependencies), add the following to your dependencies in your application's `build.gradle` file to deal with version alignment:

        ```javascript
        dependencies {
            implementation platform('org.jetbrains.kotlin:kotlin-bom:1.8.0')
            ...
        }
        ```

      </Step>
      <Step title="Add the Rive component">
        ```javascript
        import Rive from 'rive-react-native';

        function App() {
          return <Rive
              url="https://public.rive.app/community/runtime-files/2195-4346-avatar-pack-use-case.riv"
              artboardName="Avatar 1"
              stateMachineName="avatar"
              style={{width: 400, height: 400}}
          />;
        }
        ```

      </Step>
    </Steps>

    See subsequent runtime pages to learn how to control layout, state machines, and more.

    ## Resources

    - [GitHub](https://github.com/rive-app/rive-react-native)
    - [Demo App](https://github.com/rive-app/rive-react-native/tree/main/example)
    - [Weather App](https://github.com/rive-app/weather-app-mobile)

  </Tab>
</Tabs>
