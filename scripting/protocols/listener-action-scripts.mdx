---
title: "Listener Action Scripts"
description: "Run custom logic when a state machine listener fires"
---

[Listeners](/editor/state-machine/listeners) fire when a specific event occurs in a State Machine.
Listener Action Scripts let you run custom logic in response to those events.

Use Listener Action Scripts when you need to perform side effects—such as updating view model values, responding to pointer input, or triggering external behavior—without changing state.

## Creating a Listener Action Script

[Create a new script](/scripting/creating-scripts) and select **Listener Action Script** as the type.

## Anatomy of a Listener Action

```lua
type MyListenerAction = {
  context: Context,
}

-- Called once when the script initializes.
function init(self: MyListenerAction, context: Context): boolean
  -- Context gives you access to your main view model and other data.
  self.context = context
  return true
end

-- Called when the Listener fires.
-- Use this to perform side effects (no return value).
function perform(self: MyListenerAction, pointerEvent: PointerEvent)

end

-- Return a factory function that Rive uses to build the Listener Action instance.
return function(): ListenerAction<MyListenerAction>
  return {
    init = init,
    perform = perform,
    context = late(),
  }
end

```

## Adding your Listener Actions

<Steps>
  <Step title="Select a Listener" />
  <Step title="Click + and select Scripted Action" />
  <Step title="From the Run dropdown, select your script" />
</Steps>

![Add a custom listener action](/images/scripting/add-listener-action.gif)

## Script Inputs

Inputs let you add parameters to a listener action without changing script logic—making the same script reusable across different listeners. For more information on adding inputs to your scripts, see [Script Inputs](/scripting/script-inputs).

<Note>
  Inputs can control scripts, but scripts can't change the value of inputs.

  If you need to control a view model property from your script, access the [Main View model through context](/scripting/data-binding#accessing-the-main-view-model) or [View Model Inputs](/scripting/script-inputs#view-model-inputs).
</Note>

### Setting an Input

To set the value of an input, select the Properties icon next to the listener script.

![listener action script inputs](/images/scripting/listener-action-script-input.png)

### Data Binding an Input

Right-click your property and select Data Bind to bind your input to a view model property.

![listener action script inputs](/images/scripting/listener-action-script-input-binding.png)
