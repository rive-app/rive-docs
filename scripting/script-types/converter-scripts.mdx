---
title: "Converter Scripts"
description: "Create custom converters using Rive scripting"
---

import { Demos } from '/snippets/demos.jsx'

Rive includes several built-in converters like **Convert to String** and **Round**.
Scripting lets you create your own custom converters when you need behavior that isn’t covered by the built-ins.

For background on converters and data binding, see [Data Converters](editor/data-binding/overview#converter)

## Examples

<Demos
  examples={[
    "scriptingTippingConverter",
  ]}
/>

## Creating a Converter

[Create a new script](/scripting/creating-scripts) of type Converter.

![Create converter script](/images/scripting/create-converter-script.png)

<Tip>
Use **PascalCase** for script names and match the filename to what it does (example `ConvertNumberToPrice`). Update the script’s type name accordingly.
</Tip>

```lua
type MyConverter = {}

-- Called once when the script initializes.
function init(self: MyConverter): boolean
  return true
end

-- Converts the bound property value from source to target.
function convert(self: MyConverter, input: DataValueNumber): DataValueNumber
  local dv: DataValueNumber = DataValue.number()
  if input:isNumber() then
    -- Add 1 to the incoming number
    dv.value = (input :: DataValueNumber).value + 1
  end
  return dv
end

-- Converts from target back to source (for target-to-source and two-way data binding).
function reverseConvert(self: MyConverter, input: DataValueNumber): DataValueNumber
  local dv: DataValueNumber = DataValue.number()
  if input:isNumber() then
    dv.value = (input :: DataValueNumber).value - 1
  end
  return dv
end

-- Return a factory function that builds the converter instance.
-- Rive calls this when the script is created, passing back a table
-- containing its lifecycle functions and any default values.
return function(): Converter<MyConverter, DataValueNumber, DataValueNumber>
  return {
    init = init,
    convert = convert,
    reverseConvert = reverseConvert,
  }
end
```


## Creating a Converter using your Script

Create a new converter using your new converter script:

1. In the Data panel, click the `+` button.
2. Choose **Converters → Script → MyConverter**.


![Create converter with a script](/images/scripting/create-converter-with-script.png)


## Adding Inputs

Inputs let you customize your converter with unique data that can be bound to view model properties.


```lua
-- Define the script's data and inputs.
type MyConverter = {
  myInputNumber: Input<number>,
}

function convert(self: MyConverter, input: DataValueNumber): DataValueNumber
  local dv: DataValueNumber = DataValue.number()
  if input:isNumber() then
    -- Add the values of myInputNumber to the incoming value
    dv.value = (input :: DataValueNumber).value
      + self.myInputNumber
  end
  return dv
end

return function(): Converter<MyConverter, DataValueNumber, DataValueNumber>
  return {
    init = init,
    convert = convert,
    reverseConvert = reverseConvert,
    -- Default value when creating a new converter
    myInputNumber = 0
  }
end

```

**Modifying input value:**

1. Select your converter in the Data panel.
2. Adjust the field value in the property inspector.

![Converter script input](/images/scripting/converter-script-input.png)

**Data the input:**

Right-click the field and choose **Data Bind**.

![Data bind a converter input](/images/scripting/converter-script-input-data-binding.png)

You can create multiple converters using the same script, each with unique input data.

### Using a View Model as an Input

Converters can read values from view models nested inside the main view model.

![Make Nested View Model accessible in converter](/images/scripting/converter-nested-vm.png)

```lua
type MyConverter = {
  -- Make the nested view mode properties accessible via self.
  childViewModel: Input<Data.ChildViewModel>,
}

function convert(self: MyConverter, input: DataValueNumber): DataValueNumber
  local dv: DataValueNumber = DataValue.number()
  if input:isNumber() then
    -- Add the addValue view model property to the incoming vaue.
    dv.value = (input :: DataValueNumber).value + self.childViewModel.addValue.value
  end
  return dv
end

return function(): Converter<MyConverter, DataValueNumber, DataValueNumber>
  return {
    init = init,
    convert = convert,
    reverseConvert = reverseConvert,
        -- Use late() to mark this input as assigned at runtime
    childViewModel = late()
  }
end

```

Select the converter in the Data panel and assign the desired view model.

![Bind View Model to script](/images/scripting/bind-vm-to-script-converter.png)



